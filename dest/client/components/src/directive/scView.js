angular.module("smartCourtLib").directive("scView",["$state","$window","$timeout","$location","$anchorScroll","$log","$rootScope",function(e,t,n,r,i,s,o){function f(e){return e.current.name+JSON.stringify(e.params)}function l(e){return u[e]||{model:{},scrollPos:[0,0]}}function c(e,t){u[e]=t}function h(e){u[e]&&(u[e]=null)}function p(n){angular.forEach(a,function(e,t){n[t]||(n[t]=function(t){o.$broadcast(e,t)})}),n.back||(n.back=function(){h(f(e)),n.model={},setTimeout(function(){t.history.back()},80)}),n.setTitle||(n.setTitle=function(e){document.title=e})}var u={},a={showToast:"SC_TOAST_SHOW",hideToast:"SC_TOAST_HIDE",showAlert:"SC_ALERT_SHOW",hideAlert:"SC_ALERT_HIDE",showLoading:"SC_LOADING_SHOW",hideLoading:"SC_LOADING_HIDE"};return function(s,o,u){s.$on("$stateChangeStart",function(){e.current.name&&c(f(e),{model:s.model,scrollPos:[t.pageXOffset,t.pageYOffset]}),s.onExit&&s.onExit(),s.showLoading()}),s.$on("$stateChangeSuccess",function(){if(r.hash())i();else{var s=l(f(e)),o=[0,0];s.scrollPos&&(o=s.scrollPos),n(function(){t.scrollTo(o[0],o[1])},0)}}),s.$on("$viewContentLoaded",function(){var t=l(f(e));s.model=t.model,p(s),s.hideLoading(),s.onEnter&&s.onEnter()})}}])