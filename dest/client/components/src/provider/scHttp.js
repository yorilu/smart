angular.module("smartCourtLib",[]).provider("scHttp",[function(){var e="http://120.26.44.110:8080/smart-api/";this.setBaseUrl=function(t){t&&(e=t)},this.$get=["$http","$q","$cacheFactory",function(t,n,r){var i={url:"",param:"",method:"post",cache:!0,httpCache:r("httpCache"),transFn:function(e){return $.param(e)},execute:function(r,i,s){var o=this;this.param=r;var u=n.defer(),i=i||this.method||"post",a=s?s:{cache:!!this.cache},f=[e+this.url],l=this.url+angular.toJson(r),c=this.httpCache.get(l);if(c){var h=angular.isArray(c)?[]:{};return angular.copy(c,h),u.resolve(h),u.promise}return i=="post"||i=="put"||i=="patch"?(a.transformRequest=o.transFn,f.push(r,a)):(a.params=r,f.push(a)),t[i].apply(t,f).success(function(e,t,n,r){if(e.code!=0)u.reject(e.code);else{var i={};angular.isArray(e.data)&&(i=[]),o.httpCache.put(l,angular.copy(e.data,i)),u.resolve(e.data)}}).error(function(e,t,n,r){u.reject(e.code)}),u.promise}},s=["get","delete","head","jsonp","post","put","patch"];return angular.forEach(s,function(e,t){i[e]=function(t,n){return this.execute(t,e,n)}}),i}]}])