/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){function r(e,t){return F(new(F(function(){},{prototype:e})),t)}function i(e){return j(arguments,function(t){t!==e&&j(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function s(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function o(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function u(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function a(e,t,n,r){var i,a=s(n,r),f={},l=[];for(var c in a)if(a[c].params&&(i=o(a[c].params),i.length))for(var h in i)u(l,i[h])>=0||(l.push(i[h]),f[i[h]]=e[i[h]]);return F({},f,t)}function f(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var s=n[i];if(e[s]!=t[s])return!1}return!0}function l(e,t){var n={};return j(e,function(e){n[e]=t[e]}),n}function c(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==u(n,r)&&(t[r]=e[r]);return t}function h(e,t){var n=B(e),r=n?[]:{};return j(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function p(e,t){var n=B(e)?[]:{};return j(e,function(e,r){n[r]=t(e,r)}),n}function d(e,t){var r=1,s=2,a={},f=[],l=a,h=F(e.when(a),{$$promises:a,$$values:a});this.study=function(a){function p(e,n){if(y[n]!==s){if(g.push(n),y[n]===r)throw g.splice(0,u(g,n)),new Error("Cyclic dependency: "+g.join(" -> "));if(y[n]=r,P(e))m.push(n,[function(){return t.get(e)}],f);else{var i=t.annotate(e);j(i,function(e){e!==n&&a.hasOwnProperty(e)&&p(a[e],e)}),m.push(n,e,i)}g.pop(),y[n]=s}}function d(e){return H(e)&&e.then&&e.$$promises}if(!H(a))throw new Error("'invocables' must be an object");var v=o(a||{}),m=[],g=[],y={};return j(a,p),a=g=y=null,function(r,s,o){function u(){--w||(E||i(b,s.$$values),g.$$values=b,g.$$promises=g.$$promises||!0,delete g.$$inheritedValues,p.resolve(b))}function a(e){g.$$failure=e,p.reject(e)}function f(n,i,s){function f(e){c.reject(e),a(e)}function l(){if(!_(g.$$failure))try{c.resolve(t.invoke(i,o,b)),c.promise.then(function(e){b[n]=e,u()},f)}catch(e){f(e)}}var c=e.defer(),h=0;j(s,function(e){y.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(h++,y[e].then(function(t){b[e]=t,--h||l()},f))}),h||l(),y[n]=c.promise}if(d(r)&&o===n&&(o=s,s=r,r=null),r){if(!H(r))throw new Error("'locals' must be an object")}else r=l;if(s){if(!d(s))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else s=h;var p=e.defer(),g=p.promise,y=g.$$promises={},b=F({},r),w=1+m.length/3,E=!1;if(_(s.$$failure))return a(s.$$failure),g;s.$$inheritedValues&&i(b,c(s.$$inheritedValues,v)),F(y,s.$$promises),s.$$values?(E=i(b,c(s.$$values,v)),g.$$inheritedValues=c(s.$$values,v),u()):(s.$$inheritedValues&&(g.$$inheritedValues=c(s.$$inheritedValues,v)),s.then(u,a));for(var S=0,x=m.length;x>S;S+=3)r.hasOwnProperty(m[S])?u():f(m[S],m[S+1],m[S+2]);return g}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function v(e,t,n){this.fromConfig=function(e,t,n){return _(e.template)?this.fromString(e.template,t):_(e.templateUrl)?this.fromUrl(e.templateUrl,t):_(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return D(e)?e(t):e},this.fromUrl=function(n,r){return D(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function m(e,t,i){function s(t,n,r,i){if(m.push(t),d[t])return d[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new q.Param(t,n,r,i),v[t]}function o(e,t,n){var r=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return i+r[0]+t+r[1]}function u(n,i){var s,o,u,a,f;return s=n[2]||n[3],f=t.params[s],u=e.substring(h,n.index),o=i?n[4]:n[4]||("*"==n[1]?".*":null),a=q.type(o||"string")||r(q.type("string"),{pattern:new RegExp(o)}),{id:s,regexp:o,segment:u,type:a,cfg:f}}t=F({params:{}},H(t)?t:{});var a,f=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c="^",h=0,p=this.segments=[],d=i?i.params:{},v=this.params=i?i.params.$$new():new q.ParamSet,m=[];this.source=e;for(var g,y,b;(a=f.exec(e))&&(g=u(a,!1),!(g.segment.indexOf("?")>=0));)y=s(g.id,g.type,g.cfg,"path"),c+=o(g.segment,y.type.pattern.source,y.squash),p.push(g.segment),h=f.lastIndex;b=e.substring(h);var w=b.indexOf("?");if(w>=0){var E=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=e.substring(0,h+w),E.length>0)for(h=0;a=l.exec(E);)g=u(a,!0),y=s(g.id,g.type,g.cfg,"search"),h=f.lastIndex}else this.sourcePath=e,this.sourceSearch="";c+=o(b)+(t.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(c,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function g(e){F(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function s(e){return this.pattern.test(e)}function a(){return{strict:b,caseInsensitive:v}}function f(e){return D(e)||B(e)&&D(e[e.length-1])}function l(){for(;x.length;){var e=x.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(E[e.name],d.invoke(e.def))}}function c(e){F(this,e||{})}q=this;var d,v=!1,b=!0,w=!1,E={},S=!0,x=[],T={string:{encode:e,decode:i,is:s,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return _(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!f(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return _(e)&&(v=e),v},this.strictMode=function(e){return _(e)&&(b=e),b},this.defaultSquashPolicy=function(e){if(!_(e))return w;if(e!==!0&&e!==!1&&!P(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return w=e,e},this.compile=function(e,t){return new m(e,F(a(),t))},this.isMatcher=function(e){if(!H(e))return!1;var t=!0;return j(m.prototype,function(n,r){D(n)&&(t=t&&_(e[r])&&D(e[r]))}),t},this.type=function(e,t,n){if(!_(t))return E[e];if(E.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return E[e]=new g(F({name:e},t)),n&&(x.push({name:e,def:n}),S||l()),this},j(T,function(e,t){E[t]=new g(F({name:t},e))}),E=r(E,{}),this.$get=["$injector",function(e){return d=e,S=!1,l(),j(T,function(e,t){E[t]||(E[t]=new g(e))}),this}],this.Param=function(e,t,r,i){function s(e){var t=H(e)?o(e):[],n=-1===u(t,"value")&&-1===u(t,"type")&&-1===u(t,"squash")&&-1===u(t,"array");return n&&(e={value:e}),e.$$fn=f(e.value)?e.value:function(){return e.value},e}function a(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof g?t.type:new g(t.type):"config"===r?E.any:E.string}function l(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return F(t,n,r).array}function c(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!_(n)||null==n)return w;if(n===!0||P(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(e,t,r,i){var s,o,a=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return s=B(e.replace)?e.replace:[],P(i)&&s.push({from:i,to:n}),o=p(s,function(e){return e.from}),h(a,function(e){return-1===u(o,e.from)}).concat(s)}function m(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(r.$$fn)}function y(e){function t(e){return function(t){return t.from===e}}function n(e){var n=p(h(S.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),_(e)?S.type.decode(e):m()}function b(){return"{Param:"+e+" "+t+" squash: '"+N+"' optional: "+T+"}"}var S=this;r=s(r),t=a(r,t,i);var x=l();t=x?t.$asArray(x,"search"===i):t,"string"!==t.name||x||"path"!==i||r.value!==n||(r.value="");var T=r.value!==n,N=c(r,T),C=v(r,x,T,N);F(this,{id:e,type:t,location:i,array:x,squash:N,replace:C,isOptional:T,value:y,dynamic:n,config:r,toString:b})},c.prototype={$$new:function(){return r(this,F(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=o(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),j(t,function(t){j(o(t),function(t){-1===u(e,t)&&-1===u(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return j(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return j(r.$$keys(),function(i){var s=e&&e[i],o=t&&t[i];r[i].type.equals(s,o)||(n=!1)}),n},$$validates:function(e){var t,n,r,i=!0,s=this;return j(this.$$keys(),function(o){r=s[o],n=e[o],t=!n&&r.isOptional,i=i&&(t||!!r.type.is(n))}),i},$$parent:n},this.ParamSet=c}function b(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function s(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return _(r)?r:!0}function u(r,i,s,o){function u(e,t,n){return"/"===v?e:t?v.slice(0,-1)+e:n?v.slice(1)+e:e}function h(e){function t(e){var t=e(s,r);return t?(P(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var i=d&&r.url()===d;if(d=n,i)return!0;var o,u=f.length;for(o=0;u>o;o++)if(t(f[o]))return;l&&t(l)}}function p(){return a=a||i.$on("$locationChangeSuccess",h)}var d,v=o.baseHref(),m=r.url();return c||p(),{sync:function(){h()},listen:function(){return p()},update:function(e){return e?void (m=r.url()):void (r.url()!==m&&(r.url(m),r.replace()))},push:function(e,t,i){r.url(e.format(t||{})),d=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,s){if(!n.validates(i))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled);var a=n.format(i);if(s=s||{},o||null===a||(a="#"+e.hashPrefix()+a),a=u(a,o,s.absolute),!s.absolute||!a)return a;var f=!o&&a?"/":"",l=r.port();return l=80===l||443===l?"":":"+l,[r.protocol(),"://",r.host(),l,f,a].join("")}}}var a,f=[],l=null,c=!1;this.rule=function(e){if(!D(e))throw new Error("'rule' must be a function");return f.push(e),this},this.otherwise=function(e){if(P(e)){var t=e;e=function(){return t}}else if(!D(e))throw new Error("'rule' must be a function");return l=e,this},this.when=function(e,t){var n,u=P(t);if(P(e)&&(e=r.compile(e)),!u&&!D(t)&&!B(t))throw new Error("invalid 'handler' in when()");var a={matcher:function(e,t){return u&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),F(function(n,r){return o(n,t,e.exec(r.path(),r.search()))},{prefix:P(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(n=t,t=["$match",function(e){return s(n,e)}]),F(function(n,r){return o(n,t,e.exec(r.path()))},{prefix:i(e)})}},f={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var l in f)if(f[l])return this.rule(a[l](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),c=e},this.$get=u,u.$inject=["$location","$rootScope","$injector","$browser"]}function w(e,i){function s(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function c(e,t){if(!e)return n;var r=P(e),i=r?e:e.name,o=s(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");t=c(t);for(var u=i.split("."),a=0,f=u.length,l=t;f>a;a++)if(""!==u[a]||0!==a){if("^"!==u[a])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");l=l.parent}else l=t;u=u.slice(a).join("."),i=l.name+(l.name&&u?".":"")+u}var h=T[i];return!h||!r&&(r||h!==e&&h.self!==e)?n:h}function h(e,t){N[e]||(N[e]=[]),N[e].push(t)}function d(e){for(var t=N[e]||[];t.length;)v(t.shift())}function v(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!P(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(T.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):P(t.parent)?t.parent:H(t.parent)&&P(t.parent.name)?t.parent.name:"";if(i&&!T[i])return h(i,t.self);for(var s in k)D(k[s])&&(t[s]=k[s](t,k.$delegates[s]));return T[n]=t,!t[C]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){x.$current.navigable==t&&f(e,n)||x.transitionTo(t,e,{inherit:!0,location:!1})}]),d(n),t}function m(e){return e.indexOf("*")>-1}function g(e){var t=e.split("."),n=x.$current.name.split(".");if("**"===t[0]&&(n=n.slice(u(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(u(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return n.join("")===t.join("")}function y(e,t){return P(e)&&!_(t)?k[e]:D(t)&&P(e)?(k[e]&&!k.$delegates[e]&&(k.$delegates[e]=k[e]),k[e]=t,this):this}function b(e,t){return H(e)?t=e:t.name=e,v(t),this}function w(e,i,s,u,h,d,v){function y(t,n,r,s){var o=e.$broadcast("$stateNotFound",t,n,r);if(o.defaultPrevented)return v.update(),k;if(!o.retry)return null;if(s.$retry)return v.update(),L;var u=x.transition=i.when(o.retry);return u.then(function(){return u!==x.transition?w:(t.options.$retry=!0,x.transitionTo(t.to,t.toParams,t.options))},function(){return k}),v.update(),u}function b(e,n,r,o,a,f){var c=r?n:l(e.params.$$keys(),n),p={$stateParams:c};a.resolve=h.resolve(e.resolve,p,a.resolve,e);var d=[a.resolve.then(function(e){a.globals=e})];return o&&d.push(o),j(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return s.load(r,{view:n,locals:p,params:c,notify:f.notify})||""}],d.push(h.resolve(i,p,a.resolve,e).then(function(s){if(D(n.controllerProvider)||B(n.controllerProvider)){var o=t.extend({},i,p);s.$$controller=u.invoke(n.controllerProvider,null,o)}else s.$$controller=n.controller;s.$$state=e,s.$$controllerAs=n.controllerAs,a[r]=s}))}),i.all(d).then(function(){return a})}var w=i.reject(new Error("transition superseded")),N=i.reject(new Error("transition prevented")),k=i.reject(new Error("transition aborted")),L=i.reject(new Error("transition failed"));return S.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:S.self,$current:S,transition:null},x.reload=function(){return x.transitionTo(x.current,d,{reload:!0,inherit:!1,notify:!0})},x.go=function(e,t,n){return x.transitionTo(e,t,F({inherit:!0,relative:x.$current},n))},x.transitionTo=function(t,n,s){n=n||{},s=F({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},s||{});var o,f=x.$current,h=x.params,p=f.path,m=c(t,s.relative);if(!_(m)){var g={to:t,toParams:n,options:s},T=y(g,f.self,h,s);if(T)return T;if(t=g.to,n=g.toParams,s=g.options,m=c(t,s.relative),!_(m))throw s.relative?new Error("Could not resolve '"+t+"' from state '"+s.relative+"'"):new Error("No such state '"+t+"'")}if(m[C])throw new Error("Cannot transition to abstract state '"+t+"'");if(s.inherit&&(n=a(d,n||{},x.$current,m)),!m.params.$$validates(n))return L;n=m.params.$$values(n),t=m;var k=t.path,A=0,O=k[A],M=S.locals,D=[];if(!s.reload)for(;O&&O===p[A]&&O.ownParams.$$equals(n,h);)M=D[A]=O.locals,A++,O=k[A];if(E(t,f,M,s))return t.self.reloadOnSearch!==!1&&v.update(),x.transition=null,i.when(x.current);if(n=l(t.params.$$keys(),n||{}),s.notify&&e.$broadcast("$stateChangeStart",t.self,n,f.self,h).defaultPrevented)return v.update(),N;for(var P=i.when(M),H=A;H<k.length;H++,O=k[H])M=D[H]=r(M),P=b(O,n,O===t,P,M,s);var B=x.transition=P.then(function(){var r,i,o;if(x.transition!==B)return w;for(r=p.length-1;r>=A;r--)o=p[r],o.self.onExit&&u.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=A;r<k.length;r++)i=k[r],i.locals=D[r],i.self.onEnter&&u.invoke(i.self.onEnter,i.self,i.locals.globals);return x.transition!==B?w:(x.$current=t,x.current=t.self,x.params=n,I(x.params,d),x.transition=null,s.location&&t.navigable&&v.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===s.location}),s.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,f.self,h),v.update(!0),x.current)},function(r){return x.transition!==B?w:(x.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,f.self,h,r),o.defaultPrevented||v.update(),i.reject(r))});return B},x.is=function(e,t,r){r=F({relative:x.$current},r||{});var i=c(e,r.relative);return _(i)?x.$current!==i?!1:t?f(i.params.$$values(t),d):!0:n},x.includes=function(e,t,r){if(r=F({relative:x.$current},r||{}),P(e)&&m(e)){if(!g(e))return!1;e=x.$current.name}var i=c(e,r.relative);return _(i)?_(x.$current.includes[i.name])?t?f(i.params.$$values(t),d,o(t)):!0:!1:n},x.href=function(e,t,r){r=F({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},r||{});var i=c(e,r.relative);if(!_(i))return null;r.inherit&&(t=a(d,t||{},x.$current,i));var s=i&&r.lossy?i.navigable:i;return s&&s.url!==n&&null!==s.url?v.href(s.url,l(i.params.$$keys(),t||{}),{absolute:r.absolute}):null},x.get=function(e,t){if(0===arguments.length)return p(o(T),function(e){return T[e].self});var n=c(e,t||x.$current);return n&&n.self?n.self:null},x}function E(e,t,n,r){return e!==t||(n!==t.locals||r.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var S,x,T={},N={},C="abstract",k={parent:function(e){if(_(e.parent)&&e.parent)return c(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?c(t[1]):S},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=F({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(P(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||S).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new q.ParamSet;return j(e.params||{},function(e,n){t[n]||(t[n]=new q.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?F(e.parent.params.$$new(),e.ownParams):new q.ParamSet},views:function(e){var t={};return j(_(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?F({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};S=v({name:"",url:"^",views:null,"abstract":!0}),S.navigable=null,this.decorator=y,this.state=b,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function E(){function e(e,t){return{load:function(n,r){var i,s={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=F(s,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function S(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function x(e,n,r,i){function s(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function o(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(f)return{enter:function(e,t,n){var r=f.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=f.leave(e,t);n&&n.then&&n.then(t)}};if(a){var r=a&&a(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var u=s(),a=u("$animator"),f=u("$animate"),l={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,u){return function(n,s,a){function f(){c&&(c.remove(),c=null),p&&(p.$destroy(),p=null),h&&(g.leave(h,function(){c=null}),c=h,h=null)}function l(o){var l,c=N(n,a,s,i),y=c&&e.$current&&e.$current.locals[c];if(o||y!==d){l=n.$new(),d=e.$current.locals[c];var b=u(l,function(e){g.enter(e,s,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),f()});h=b,p=l,p.$emit("$viewContentLoaded"),p.$eval(v)}}var c,h,p,d,v=a.onload||"",m=a.autoscroll,g=o(a,n);n.$on("$stateChangeSuccess",function(){l(!1)}),n.$on("$viewContentLoading",function(){l(!1)}),l(!0)}}};return l}function T(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var s=i.html();return function(i,o,u){var a=n.$current,f=N(i,u,o,r),l=a&&a.locals[f];if(l){o.data("$uiView",{name:f,state:l.$$state}),o.html(l.$template?l.$template:s);var c=e(o.contents());if(l.$$controller){l.$scope=i;var h=t(l.$$controller,l);l.$$controllerAs&&(i[l.$$controllerAs]=h),o.data("$ngControllerController",h),o.children().data("$ngControllerController",h)}c(i)}}}}}function N(e,t,n,r){var i=r(t.uiView||t.name||"")(e),s=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(s?s.state.name:"")}function C(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function k(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function L(e,n){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,s,o,u){var a=C(o.uiSref,e.current.name),f=null,l=k(s)||e.$current,c=null,h="A"===s.prop("tagName"),p="FORM"===s[0].nodeName,d=p?"action":"href",v=!0,m={relative:l,inherit:!0},g=i.$eval(o.uiSrefOpts)||{};t.forEach(r,function(e){e in g&&(m[e]=g[e])});var y=function(n){if(n&&(f=t.copy(n)),v){c=e.href(a.state,f,m);var r=u[1]||u[0];return r&&r.$$setStateInfo(a.state,f),null===c?(v=!1,!1):void o.$set(d,c)}};a.paramExpr&&(i.$watch(a.paramExpr,function(e){e!==f&&y(e)},!0),f=t.copy(i.$eval(a.paramExpr))),y(),p||s.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||s.attr("target"))){var i=n(function(){e.go(a.state,f,m)});t.preventDefault();var o=h&&!c?1:0;t.preventDefault=function(){o--<=0&&n.cancel(i)}}})}}}function A(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function s(){o()?r.addClass(f):r.removeClass(f)}function o(){return"undefined"!=typeof i.uiSrefActiveEq?u&&e.is(u.name,a):u&&e.includes(u.name,a)}var u,a,f;f=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){u=e.get(t,k(r)),a=n,s()},t.$on("$stateChangeSuccess",s)}]}}function O(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function M(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var _=t.isDefined,D=t.isFunction,P=t.isString,H=t.isObject,B=t.isArray,j=t.forEach,F=t.extend,I=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),d.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",d),v.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",v);var q;m.prototype.concat=function(e,t){var n={caseInsensitive:q.caseInsensitive(),strict:q.strictMode(),squash:q.defaultSquashPolicy()};return new m(this.sourcePath+e+this.sourceSearch,F(n,t),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var r=t(e).split(/-(?!\\)/),i=p(r,t);return p(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,s,o,u=this.parameters(),a=u.length,f=this.segments.length-1,l={};if(f!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;f>i;i++){o=u[i];var c=this.params[o],h=r[i+1];for(s=0;s<c.replace;s++)c.replace[s].from===h&&(h=c.replace[s].to);h&&c.array===!0&&(h=n(h)),l[o]=c.value(h)}for(;a>i;i++)o=u[i],l[o]=this.params[o].value(t[o]);return l},m.prototype.parameters=function(e){return _(e)?this.params[e]||null:this.$$paramNames},m.prototype.validates=function(e){return this.params.$$validates(e)},m.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var s,o=!1,u=n.length-1,a=r.length,f=n[0];for(s=0;a>s;s++){var l=u>s,c=r[s],h=i[c],d=h.value(e[c]),v=h.isOptional&&h.type.equals(h.value(),d),m=v?h.squash:!1,g=h.type.encode(d);if(l){var y=n[s+1];if(m===!1)null!=g&&(f+=B(g)?p(g,t).join("-"):encodeURIComponent(g)),f+=y;else if(m===!0){var b=f.match(/\/$/)?/\/?(.*)/:/(.*)/;f+=y.match(b)[1]}else P(m)&&(f+=m+y)}else{if(null==g||v&&m!==!1)continue;B(g)||(g=[g]),g=p(g,encodeURIComponent).join("&"+c+"="),f+=(o?"&":"?")+(c+"="+g),o=!0}}return f},g.prototype.is=function(){return!0},g.prototype.encode=function(e){return e},g.prototype.decode=function(e){return e},g.prototype.equals=function(e,t){return e==t},g.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},g.prototype.pattern=/.*/,g.prototype.toString=function(){return"{Type:"+this.name+"}"},g.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return B(e)?e:_(e)?[e]:[]}function s(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function u(e,t){return function(n){n=i(n);var r=p(n,e);return t===!0?0===h(r,o).length:s(r)}}function a(e){return function(t,n){var r=i(t),s=i(n);if(r.length!==s.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],s[o]))return!1;return!0}}this.encode=u(r(e,"encode")),this.decode=u(r(e,"decode")),this.is=u(r(e,"is"),!0),this.equals=a(r(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",b),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",w),E.$inject=[],t.module("ui.router.state").provider("$view",E),t.module("ui.router.state").provider("$uiViewScroll",S),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],T.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",x),t.module("ui.router.state").directive("uiView",T),L.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",L).directive("uiSrefActive",A).directive("uiSrefActiveEq",A),O.$inject=["$state"],M.$inject=["$state"],t.module("ui.router.state").filter("isState",O).filter("includedByState",M)}(window,window.angular)